<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœ€çµ‚æ—¥ãƒ»å®Œå…¨æ”»ç•¥ | 10:00 é—œè¥¿æ©Ÿå ´èˆªç­ è¿”å®¶æŒ‡å—</title>
    <!-- Leaflet CSS for OpenStreetMap -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <style>
        /* --- å…¨åŸŸè¨­å®šèˆ‡å­—é«” --- */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');
        @import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css');

        :root {
            --primary-color: #005aab; /* å—æµ·é›»éµ Rapi:t çš„è—è‰² */
            --secondary-color: #f39c12; /* æº«æš–çš„æ©˜è‰²ï¼Œç”¨æ–¼é»ç¶´ */
            --success-color: #28a745; /* æˆåŠŸã€å®Œæˆçš„ç¶ è‰² */
            --dark-color: #212529;
            --light-color: #f8f9fa;
            --white-color: #fff;
            --border-radius: 12px;
            --box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            line-height: 1.8;
            color: var(--dark-color);
            background-color: #fdfdfd;
        }

        html {
            scroll-behavior: smooth;
        }
        
        /* --- å®¹å™¨èˆ‡é€šç”¨æ¨£å¼ --- */
        .container {
            max-width: 800px;
            margin: auto;
            padding: 2.5rem 1.5rem;
            overflow: hidden;
        }

        h1, h2, h3 {
            font-weight: 700;
            line-height: 1.4;
        }

        h1 { font-size: 2.8rem; }
        h2 { 
            font-size: 2.2rem; 
            margin-bottom: 2rem; 
            color: var(--primary-color);
            padding-bottom: 0.5rem;
            border-bottom: 3px solid var(--secondary-color);
            display: inline-block;
        }
        p.subtitle { color: #555; margin-top: -1.5rem; margin-bottom: 2.5rem; }

        .btn {
            display: inline-block;
            padding: 12px 25px;
            background-color: var(--secondary-color);
            color: var(--white-color);
            border: none;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(243, 156, 18, 0.3);
        }

        .btn:hover {
            background-color: #e68a00;
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(243, 156, 18, 0.4);
        }

        /* --- å‹•ç•« --- */
        .reveal {
            position: relative;
            transform: translateY(50px);
            opacity: 0;
            transition: 1s all ease;
        }
        .reveal.active {
            transform: translateY(0);
            opacity: 1;
        }
        
        /* --- Hero Section --- */
        .hero {
            height: 100vh;
            background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url(https://images.unsplash.com/photo-1533107842245-6a5e4a7a82c6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1740&q=80);
            background-size: cover;
            background-position: center;
            color: var(--white-color);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 0 20px;
            position: relative;
        }

        .hero h1 {
            text-shadow: 2px 2px 8px rgba(0,0,0,0.7);
        }

        .hero h3 {
            font-weight: 400;
            font-size: 1.5rem;
            margin-top: 1rem;
        }

        .scroll-down {
            position: absolute;
            bottom: 30px;
            font-size: 2.5rem;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-20px); }
            60% { transform: translateY(-10px); }
        }

        /* --- å¡ç‰‡èˆ‡æ¸…å–®æ¨£å¼ --- */
        .card {
            background: var(--white-color);
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-bottom: 2.5rem;
        }

        .checklist ul {
            list-style: none;
        }

        .checklist li {
            font-size: 1.1rem;
            padding: 14px 5px;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: color 0.3s, opacity 0.3s;
            border-bottom: 1px solid #eee;
        }
        .checklist li:last-child { border-bottom: none; }
        .checklist li.checked {
            opacity: 0.6;
            color: #555;
        }
        .checklist li.checked .task-text { text-decoration: line-through; }
        .checklist .icon {
            font-size: 1.6rem;
            width: 40px;
            text-align: center;
            margin-right: 15px;
            color: var(--secondary-color);
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .checklist li.checked .icon {
            transform: scale(1.1);
            color: var(--success-color);
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background-color: var(--light-color);
            border-radius: 6px;
            margin-top: 1.5rem;
            overflow: hidden;
            border: 1px solid #e0e0e0;
        }
        .progress-bar-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--secondary-color) 0%, var(--primary-color) 100%);
            border-radius: 5px;
            transition: width 0.5s ease-in-out;
        }

        /* --- æ™‚é–“è»¸ --- */
        .timeline {
            position: relative;
            padding: 2rem 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 3px;
            background-color: #e0e0e0;
            transform: translateX(-50%);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 3rem;
            width: 50%;
        }

        .timeline-item:nth-child(odd) {
            left: 0;
            padding-right: 30px;
            text-align: right;
        }

        .timeline-item:nth-child(even) {
            left: 50%;
            padding-left: 30px;
        }
        
        .timeline-item-content {
            background: var(--white-color);
            padding: 1.5rem 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            position: relative;
        }

        .timeline-icon {
            position: absolute;
            top: 20px;
            right: -20px;
            width: 40px;
            height: 40px;
            background: var(--secondary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            z-index: 10;
            border: 3px solid var(--white-color);
        }

        .timeline-item:nth-child(even) .timeline-icon {
            left: -20px;
        }

        .timeline-time {
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        .timeline-title {
            font-weight: 700;
            margin: 0.5rem 0;
            font-size: 1.25rem;
        }
        
        .timeline-text { font-size: 1rem; color: #444; }
        
        .collapsible {
            background-color: #fff8e1;
            color: #444;
            cursor: pointer;
            padding: 12px;
            width: 100%;
            border: 1px solid #ffecb3;
            text-align: left;
            outline: none;
            font-size: 1rem;
            margin-top: 1rem;
            border-radius: 8px;
            font-family: inherit;
            font-weight: 500;
            transition: background-color 0.3s;
        }
        .collapsible:hover { background-color: #ffefd5; }
        .collapsible::before {
            content: 'ğŸš¨ ';
            font-weight: bold;
            margin-right: 5px;
        }
        .collapsible.active::before { content: 'âœ… '; }
        .collapsible-content {
            padding: 0 18px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out;
            background-color: #fffaf0;
            border-radius: 0 0 8px 8px;
            border: 1px solid #ffecb3;
            border-top: none;
        }
        
        /* --- ç¶²æ ¼èˆ‡åœ°åœ– --- */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
        }
        .grid-item .card { margin-bottom: 0; height: 100%; }
        .grid-item h3 { font-size: 1.5rem; margin-bottom: 1rem; }
        .grid-item ul { list-style: none; padding-left: 0; }
        .grid-item li { margin-bottom: 0.75rem; display: flex; align-items: center;}
        .grid-item li i { margin-right: 10px; color: var(--primary-color); }
        
        #map {
            height: 400px;
            width: 100%;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            z-index: 1; /* ç¢ºä¿åœ°åœ–åœ¨æœ€ä¸Šå±¤ */
        }

        /* --- çµå°¾ --- */
        .footer {
            text-align: center;
            padding: 4rem 1.5rem;
            background-image: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url(https://images.unsplash.com/photo-1544634140-54a848c7c25c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1740&q=80);
            background-size: cover;
            background-position: center;
            color: var(--white-color);
        }
        .footer h2 { color: var(--white-color); font-size: 2.5rem; }
        
        /* --- å½ˆå‡ºå¼è¦–çª— (Modal) --- */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.7);
            align-items: center;
            justify-content: center;
        }
        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 30px;
            border: none;
            width: 90%;
            max-width: 600px;
            border-radius: var(--border-radius);
            position: relative;
            animation: slideIn 0.5s;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        @keyframes slideIn {
            from {transform: translateY(-50px); opacity: 0;}
            to {transform: translateY(0); opacity: 1;}
        }
        .close-btn {
            color: #aaa;
            position: absolute;
            top: 15px;
            right: 25px;
            font-size: 32px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s;
        }
        .close-btn:hover, .close-btn:focus { color: black; }
        .modal-content img { max-width: 100%; border-radius: 8px; margin-top: 1rem; }

        /* --- éŸ¿æ‡‰å¼è¨­è¨ˆ --- */
        @media (max-width: 768px) {
            h1 { font-size: 2.2rem; }
            h2 { font-size: 1.8rem; }
            .hero h3 { font-size: 1.2rem; }
            
            .timeline::before { left: 20px; }
            .timeline-item { width: 100%; padding-left: 60px; padding-right: 0; text-align: left !important; margin-bottom: 2rem; }
            .timeline-item:nth-child(even) { left: 0; }
            .timeline-icon { left: 0px !important; }

            .grid-container { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <!-- Hero Section -->
    <header class="hero">
        <h1>ç¬¬å…«æ—¥ï¼šå¾å®¹è¿”å®¶ï¼Œå›æ†¶æ»¿è¼‰</h1>
        <h3>10:00 AM | é—œè¥¿åœ‹éš›æ©Ÿå ´ (KIX) èˆªç­</h3>
        <a href="#prep" class="scroll-down" aria-label="Scroll down">â†“</a>
    </header>

    <main>
        <!-- Key Preparation Section -->
        <section id="prep" class="container reveal">
            <div class="card">
                <h2>æ±ºæˆ°å‰å¤œï¼šè¬å…¨æº–å‚™æ¸…å–®</h2>
                <p class="subtitle">å®Œç¾çš„ä¸€å¤©ï¼Œå¾å‰ä¸€æ™šé–‹å§‹ã€‚å®Œæˆæ¸…å–®ï¼Œç¢ºä¿æ˜æ—¥å¾å®¹ä¸è¿«ã€‚</p>
                <div class="checklist">
                    <ul>
                        <li><i class="icon fa-solid fa-suitcase-rolling"></i><span class="task-text">è¡Œææ‰“åŒ… (95%): åªç•™æ˜æ—¥ç›¥æ´—ç”¨å“èˆ‡è¡£ç‰©ã€‚</span></li>
                        <li><i class="icon fa-solid fa-passport"></i><span class="task-text">æ–‡ä»¶æ•´åˆ: å…¨å®¶è­·ç…§ã€é›»å­æ©Ÿç¥¨æ”¾å…¥éš¨èº«åŒ…ã€‚</span></li>
                        <li><i class="icon fa-solid fa-mobile-screen-button"></i><span class="task-text">ç·šä¸Šé è¾¦ç™»æ©Ÿ: å–å¾—é›»å­ç™»æ©Ÿè­‰ï¼Œæˆªåœ–ä¿å­˜ã€‚</span></li>
                        <li><i class="icon fa-solid fa-ticket"></i><span class="task-text">é è¨‚è»Šç¥¨ & åŠƒä½: <strong>å‹™å¿…é è¨‚</strong>å—æµ·ç‰¹æ€¥ Rapi:tã€‚</span></li>
                        <li><i class="icon fa-solid fa-bolt"></i><span class="task-text">é›»å­ç”¢å“å……é›»: è¡Œå‹•é›»æºã€æ‰‹æ©Ÿã€ç›¸æ©Ÿå……é£½é›»ã€‚</span></li>
                        <li><i class="icon fa-solid fa-bell"></i><span class="task-text">è¨­å®šå¤šå€‹é¬§é˜: è¨­å®š 06:10 åŠ 06:15 å…©å€‹é¬§é˜ã€‚</span></li>
                    </ul>
                </div>
                <div class="progress-bar">
                    <div class="progress-bar-fill"></div>
                </div>
                <br>
                <a href="https://www.howto-osaka.com/tc/rapit/" target="_blank" class="btn"><i class="fa-solid fa-train-subway"></i> ç«‹å³é è¨‚ Rapi:t è»Šç¥¨</a>
            </div>
        </section>

        <!-- Timeline Section -->
        <section class="container reveal">
            <h2>è¿”å®¶æ—¥ãƒ»åˆ†ç§’å¿…çˆ­è¡Œå‹•è¡¨</h2>
            <div class="timeline">
                <div class="timeline-item reveal">
                    <div class="timeline-icon"><i class="fa-solid fa-person-running"></i></div>
                    <div class="timeline-item-content">
                        <div class="timeline-time">06:15 - 07:15</div>
                        <h3 class="timeline-title">æ™¨é–“ä½œæˆ° & é£¯åº—é€€æˆ¿</h3>
                        <p class="timeline-text"><strong>Pro-Tip:</strong> æ—©é¤åœ¨æˆ¿å…§ç”¨éºµåŒ…æˆ–é£¯ç³°è§£æ±ºã€‚åˆ©ç”¨é›»è¦–ç¢ºèªå¸³å–®ï¼Œä¸¦ä½¿ç”¨ã€Œå¿«é€Ÿé€€æˆ¿ (Express Check-out)ã€ç®±ï¼Œçœå»æ’éšŠæ™‚é–“ã€‚</p>
                    </div>
                </div>

                <div class="timeline-item reveal">
                    <div class="timeline-icon"><i class="fa-solid fa-train"></i></div>
                    <div class="timeline-item-content">
                        <div class="timeline-time">07:15 - 08:10</div>
                        <h3 class="timeline-title">æ­ä¹˜å—æµ·ç‰¹æ€¥ Rapi:t</h3>
                        <p class="timeline-text">
                            <strong>ğŸ¯ ç›®æ¨™ç­æ¬¡:</strong> 07:30 å—æµ·é›£æ³¢ â†’ 08:08 é—œè¥¿æ©Ÿå ´T1<br>
                            <strong>ğŸ“ ä¹˜è»Šåœ°é»:</strong> å—æµ·é›£æ³¢ç«™ 2F ä¸­å¤®æ”¹æœ­å£ï¼Œé€šå¸¸åœ¨ç¬¬ 9 æœˆå°ã€‚
                        </p>
                        <button type="button" class="collapsible">å¦‚æœéŒ¯éé€™ç­è»Šï¼Ÿ</button>
                        <div class="collapsible-content">
                            <p style="padding: 1rem 0;"><strong>æ–¹æ¡ˆA (é¦–é¸):</strong> æ­ä¹˜ 08:00 çš„ä¸‹ä¸€ç­ Rapi:t (08:38æŠµé”)ï¼Œæ™‚é–“æœƒéå¸¸ç·Šå¼µï¼Œéœ€ç”¨è·‘çš„ã€‚<br><strong>æ–¹æ¡ˆB (å‚™ç”¨):</strong> ç«‹å³æ”¹æ­åŒæœˆå°çš„ã€Œç©ºæ¸¯æ€¥è¡Œã€ï¼Œè»Šç¨‹ç´„48åˆ†é˜ï¼Œç„¡åŠƒä½ï¼Œè‡ªç”±åº§ã€‚</p>
                        </div>
                    </div>
                </div>
                
                <div class="timeline-item reveal">
                    <div class="timeline-icon"><i class="fa-solid fa-plane-departure"></i></div>
                    <div class="timeline-item-content">
                        <div class="timeline-time">08:10 - 09:30</div>
                        <h3 class="timeline-title">æ±ºæˆ°é—œè¥¿æ©Ÿå ´ï¼šé«˜æ•ˆé€šé—œ</h3>
                        <p class="timeline-text">
                            <strong>1. ç›´ä¸Š4æ¨“åœ‹éš›å‡ºç™¼å±¤</strong>ï¼Œæ‰¾åˆ°èˆªç©ºå…¬å¸æ«ƒæª¯è¾¦ç†è‡ªåŠ©è¡Œæè¨—é‹ã€‚<br>
                            <strong>2. ç«é€Ÿé€šé—œ</strong>ï¼Œæº–å‚™å¥½è­·ç…§èˆ‡ç™»æ©Ÿè­‰ï¼Œé€šéå®‰æª¢èˆ‡è‡ªå‹•åŒ–è­‰ç…§æŸ¥é©—ã€‚<br>
                            <strong>3. æ™ºæ…§è³¼ç‰©</strong>ï¼Œåˆ©ç”¨APPæˆ–ç·šä¸Šé è¨‚ï¼Œåœ¨æŒ‡å®šæ«ƒæª¯å¿«é€Ÿå–è²¨ã€‚
                        </p>
                        <button id="mapBtn" class="collapsible" style="margin-top: 1rem; background-color: #e3f2fd; border-color: #bbdefb;"><i class="fa-solid fa-map-location-dot"></i> é»æ“ŠæŸ¥çœ‹ KIX æ©Ÿå ´T1å‹•ç·šæ”»ç•¥åœ–</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Shopping & Boarding Section -->
        <section class="container reveal">
            <h2>æ©Ÿå ´æœ€çµ‚ä»»å‹™</h2>
            <p class="subtitle">ç‚ºæ—…ç¨‹ç•«ä¸Šå®Œç¾å¥é»çš„æœ€å¾Œæ©Ÿæœƒï¼</p>
            <div class="grid-container">
                <div class="grid-item reveal">
                    <div class="card">
                        <h3><i class="fa-solid fa-gifts"></i> è°æ˜è³¼ç‰©æ¸…å–®</h3>
                        <ul>
                            <li><i class="fa-solid fa-cookie-bite"></i> Royce' ç”Ÿå·§å…‹åŠ›</li>
                            <li><i class="fa-solid fa-cookie"></i> ç™½è‰²æˆ€äºº</li>
                            <li><i class="fa-solid fa-candy-cane"></i> å‘¼å¸å·§å…‹åŠ› (å¤§é˜ªé™å®š)</li>
                            <li><i class="fa-solid fa-bars-staggered"></i> BÃ¢ton d'or (é«˜ç´šPocky)</li>
                            <li><i class="fa-solid fa-leaf"></i> å®‡æ²»æŠ¹èŒ¶ç³»åˆ—ç”¢å“</li>
                        </ul>
                        <hr style="margin: 1rem 0; border: 0; border-top: 1px solid #eee;">
                        <p><strong>âœ¨ è¶…ç´šçœæ™‚ç§˜è¨£</strong></p>
                        <a href="https://www.kixdutyfree.jp/tw/" target="_blank" class="btn"><i class="fa-solid fa-cart-shopping"></i> KIX å…ç¨…å“ç·šä¸Šé è¨‚</a>
                    </div>
                </div>
                <div class="grid-item reveal">
                    <div class="card">
                        <h3><i class="fa-solid fa-person-walking-arrow-right"></i> å‰å¾€ç™»æ©Ÿé–€</h3>
                        <p><strong>å‹™å¿…åœ¨ 09:30 å‰æŠµé”ç™»æ©Ÿé–€ï¼</strong></p>
                        <p>é€šéå®‰æª¢å¾Œï¼Œéƒ¨åˆ†ç™»æ©Ÿé–€éœ€æ­ä¹˜èˆªå»ˆå…§é›»è»Šï¼Œè«‹æ³¨æ„æŒ‡æ¨™ä¸¦é ç•™å……è¶³æ™‚é–“ã€‚</p>
                        <p>åœ¨ç™»æ©Ÿé–€å‰ï¼Œå†æ¬¡ç¢ºèªæ‚¨çš„è­·ç…§èˆ‡ç™»æ©Ÿè­‰æ˜¯å¦å‚™å¦¥ã€‚</p>
                        <img src="https://images.unsplash.com/photo-1578509345942-8a43a62d7579?ixlib=rb-4.0.3&auto=format&fit=crop&w=1740&q=80" alt="ç™»æ©Ÿé–€" style="width: 100%; margin-top: 1rem; border-radius: 8px;">
                    </div>
                </div>
            </div>
        </section>

        <!-- OpenStreetMap Section -->
        <section class="container reveal">
            <h2>ç›¸å°ä½ç½®åœ–</h2>
            <p class="subtitle">å¾ã€Œå—æµ·é›£æ³¢ç«™ã€åˆ°ã€Œé—œè¥¿æ©Ÿå ´ã€çš„åœ°ç†ä½ç½®ï¼Œè®“æ‚¨æ›´æœ‰æ–¹å‘æ„Ÿã€‚</p>
            <div id="map"></div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="footer reveal">
        <h2>10:00 AM | Bon Voyage!</h2>
        <p>æ—…é€”è¾›è‹¦äº†ï¼å¸¶è‘—æ»¿æ»¿çš„æˆ°åˆ©å“èˆ‡ç¾å¥½çš„å›æ†¶ï¼Œè¿”å›æº«æš–çš„å®¶ã€‚<br>æœŸå¾…æˆ‘å€‘çš„ä¸‹ä¸€æ¬¡æ—…ç¨‹ï¼</p>
    </footer>

    <!-- Modal -->
    <div id="mapModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h3>é—œè¥¿æ©Ÿå ´ T1 ç°¡æ˜“å‹•ç·šåœ–</h3>
            <p>é€™æ˜¯ä¸€å¼µç¤ºæ„åœ–ï¼Œå¹«åŠ©æ‚¨å¿«é€Ÿç†è§£å¾è»Šç«™åˆ°ç™»æ©Ÿçš„æµç¨‹ã€‚</p>
            <img src="https://i.imgur.com/uN5aLp2.png" alt="é—œè¥¿æ©Ÿå ´å‹•ç·šåœ–">
            <p style="font-size:0.8rem; color: #777; margin-top:10px;">åœ–ç‰‡ä¾†æº: è‡ªè¡Œç¹ªè£½ç¤ºæ„åœ–</p>
        </div>
    </div>

    <!-- Leaflet JS for OpenStreetMap -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {

        // --- å…ƒç´ æ·¡å…¥å‹•ç•« ---
        function revealElements() {
            const reveals = document.querySelectorAll('.reveal');
            for (let i = 0; i < reveals.length; i++) {
                const windowHeight = window.innerHeight;
                const elementTop = reveals[i].getBoundingClientRect().top;
                const elementVisible = 100;

                if (elementTop < windowHeight - elementVisible) {
                    reveals[i].classList.add('active');
                }
            }
        }
        window.addEventListener('scroll', revealElements);
        revealElements();

        // --- äº’å‹•å¼æ¸…å–® ---
        const checklistItems = document.querySelectorAll('.checklist li');
        const progressBarFill = document.querySelector('.progress-bar-fill');
        const totalTasks = checklistItems.length;

        function updateProgress() {
            const checkedTasks = document.querySelectorAll('.checklist li.checked').length;
            const progress = (checkedTasks / totalTasks) * 100;
            progressBarFill.style.width = progress + '%';
        }

        checklistItems.forEach(item => {
            item.addEventListener('click', () => {
                item.classList.toggle('checked');
                const icon = item.querySelector('.icon');
                if (item.classList.contains('checked')) {
                    icon.classList.remove('fa-regular', 'fa-square');
                    icon.classList.add('fa-solid', 'fa-square-check');
                } else {
                    icon.classList.remove('fa-solid', 'fa-square-check');
                    icon.classList.add('fa-regular', 'fa-square');
                }
                updateProgress();
            });
             // Initialize icons
            const icon = item.querySelector('.icon');
            if (!item.classList.contains('checked')) {
                icon.classList.add('fa-regular', 'fa-square');
            } else {
                 icon.classList.add('fa-solid', 'fa-square-check');
            }
        });
        updateProgress();

        // --- å¯å±•é–‹å…§å®¹ ---
        const collapsibles = document.querySelectorAll('.collapsible');
        collapsibles.forEach(coll => {
            coll.addEventListener('click', function() {
                this.classList.toggle('active');
                const content = this.nextElementSibling;
                if (content.style.maxHeight) {
                    content.style.maxHeight = null;
                } else {
                    content.style.maxHeight = content.scrollHeight + "px";
                }
            });
        });

        // --- å½ˆå‡ºå¼è¦–çª— (Modal) ---
        const modal = document.getElementById('mapModal');
        const mapBtn = document.getElementById('mapBtn');
        const closeBtn = document.querySelector('.modal .close-btn');

        mapBtn.onclick = function() {
            modal.style.display = "flex";
        }
        closeBtn.onclick = function() {
            modal.style.display = "none";
        }
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

        // --- OpenStreetMap åˆå§‹åŒ– ---
        const nambaStation = [34.6625, 135.5015];
        const kixAirport = [34.4320, 135.2440];

        const map = L.map('map').setView([34.547, 135.37], 11); // ä¸­å¿ƒé»è¨­åœ¨å…©è€…ä¹‹é–“

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: 'Â© <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);

        const trainIcon = L.icon({
            iconUrl: 'https://cdn-icons-png.flaticon.com/512/1042/1042335.png', // Simple train icon
            iconSize: [40, 40],
            iconAnchor: [20, 40],
            popupAnchor: [0, -40]
        });

        const planeIcon = L.icon({
            iconUrl: 'https://cdn-icons-png.flaticon.com/512/565/565431.png', // Simple plane icon
            iconSize: [40, 40],
            iconAnchor: [20, 40],
            popupAnchor: [0, -40]
        });

        L.marker(nambaStation, {icon: trainIcon}).addTo(map)
            .bindPopup('<b>å—æµ·é›£æ³¢ç«™</b><br>Rapi:t èµ·é»ç«™')
            .openPopup();

        L.marker(kixAirport, {icon: planeIcon}).addTo(map)
            .bindPopup('<b>é—œè¥¿åœ‹éš›æ©Ÿå ´ (KIX)</b><br>æ±ºæˆ°ä¹‹åœ°ï¼');
            
        // ç¹ªè£½è·¯ç·š
        const latlngs = [nambaStation, kixAirport];
        L.polyline(latlngs, {color: 'var(--primary-color)', weight: 5, opacity: 0.7}).addTo(map);

    });
    </script>
</body>
</html>
